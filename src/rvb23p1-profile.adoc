[[riscv-doc-template]]
:description: RVB23.1 Profiles
:company: RISC-V
:url-riscv: http://riscv.org
:doctype: book
:colophon:
:appendix-caption: Appendix
:imagesdir: ../docs-resources/images
:title-logo-image: image:risc-v_logo.png["RISC-V International Logo",pdfwidth=3.25in,align=center]
// Settings:
:experimental:
:reproducible:
:WaveDromEditorApp: wavedrom-cli
:imagesoutdir: images
:icons: font
:lang: en
:listing-caption: Listing
:sectnums:
:sectnumlevels: 5
:toclevels: 5
:toc: left
:source-highlighter: pygments
ifdef::backend-pdf[]
:source-highlighter: coderay
endif::[]
:data-uri:
:hide-uri-scheme:
:stem: latexmath
:footnote:
:xrefstyle: short
:numbered:
:stem: latexmath
:le: &#8804;
:ge: &#8805;
:ne: &#8800;
:approx: &#8776;
:inf: &#8734;

:sectnums!:

= RVB23.1 Profiles

== Introduction

This document specifies the RVB23.1 profile
family. RVB23.1 is the first minor release intended to expand upon
the RVB23 major release of the RVB series of RISC-V Application 
Processor Profile.

RVB profiles are intended to be used for customized 64-bit application
processors that will run rich OS stacks, but usually as a custom build
of standard OS source-code distributions.  The approach is to provide
a large guaranteed set of relatively inexpensive and/or widely
beneficial features but allow optionality for more expensive and/or
more targeted extensions.

Unlike the RVA profiles, it is explicitly a non-goal of RVB profiles
to provide a single standard ISA interface supporting a wide variety
of binary kernel and binary application software distributions.
However, individual software ecosystems may build upon RVB profiles to
produce a more targeted standard interface for a certain market.

== Profile-Defined Extensions

RVB23 has been ratified alongside RVA23, and the same set of new
profile-defined extensions defined in RVA23 are present in RVB23.
These profile-defined extensions will soon move to the combined ISA manual.
Future releases of RVA and RVB profiles might not
proceed through ratification at the same time, and future
profile-defined extensions will be presented as an edit to the
combined ISA manual.

== RVB23.1 Profiles

Only supervisor-mode (`rvb23p1s64`) profiles are
specified in this family.

This is a minor release of the RVB23 Profile series. As such, they
do not contain any new mandatory extensions and are expected to be
built on top of the extensions lised in the RVB23 profiles. For
the sake of simplicity when referring to this profile in code or
use in a command line argument, all instances of the period will
be replaced with the lower case letter 'p', as in `rvb23p1s64`


=== `rvb23p1s64` Profile

The `rvb23p1s64` profile specifies the ISA features available to a
supervisor-mode execution environment in 64-bit applications
processors.  `rvb23p1s64` is based on and requires an rvb23s64
implementation. Being a minor release, this only 

==== `rvb23p1s64` Optional Extensions

`rvb23p1s64` has the same unprivileged options as `rvb23u64`,

The privileged options in `rvb23p1s64` are listed in the following
sections and are additional options to the `rvb23s64` Profile.

===== Localized Options

There are no privileged localized options in `rvb23p1s64`.

===== Development Options

The following are new privileged development options in `rvb23p1s64`:

- *Svrsw60t59b* PTE reserved-for-software bits.

NOTE: *Svrsw60t59b* is used to avoid optionality in Linux kernel page tables 

- *Ssdbltrap* Double Trap, which is included to make trap handling more robust

===== Expansion Options

The following are new privileged expansion options in `rvb23p1s64`:

- *Sscfg* Supervisor Counter Delegation.

- *Ssctr* Control Transfer Records, CTR.

NOTE: *Ssctr* also implies inclusion of *Sscsrind* (indirect CSR access)

- *Ssqosid* QoS identifiers.

==== `rvb23p1s64` Recommendations

- Implementations are strongly recommended to raise illegal-instruction
  exceptions when attempting to execute unimplemented opcodes.

== Glossary of ISA Extensions

The following extensions have not yet been incorporated into the RISC-V
Instruction Set Manual; the hyperlinks lead to their separate specifications.

- https://riscv.atlassian.net/browse/RVS-3647[Svrsw60t59b]
- https://riscv.atlassian.net/browse/RVS-1005[Sscfg]
- https://riscv.atlassian.net/browse/RVS-973[Ssctr]

The following privileged ISA extensions are defined in Volume II
of the https://github.com/riscv/riscv-isa-manual[RISC-V Instruction Set Manual].

- https://docs.riscv.org/reference/isa/priv/ssdbltrp.html[Ssdbltrap]
- https://docs.riscv.org/reference/isa/priv/supervisor.html#ssqosid[Ssqosid]
- https://docs.riscv.org/reference/isa/priv/indirect-csr.html[Sscsrind]
